(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{18:function(e,a,t){e.exports=t(43)},23:function(e,a,t){},24:function(e,a,t){},25:function(e,a,t){},43:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(12),l=t.n(o),c=(t(23),t(13)),s=t(14),i=t(16),u=t(15),m=t(17);t(24);var d=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h1",null,"(React) Google Books Search"),r.a.createElement("p",{className:"lead"},"Search for and Save Books of Interest")))};t(25);var h=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Google Books"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"Search"===e.currentState?"nav-item active":"nav-item",onClick:e.handlePageChange},r.a.createElement("a",{className:"nav-link",href:"/"},"Search","Search"===e.currentState?r.a.createElement("span",{className:"sr-only"},"(current)"):r.a.createElement(r.a.Fragment,null))),r.a.createElement("li",{className:"Search"===e.currentState?"nav-item active":"nav-item",onClick:e.handlePageChange},r.a.createElement("a",{className:"nav-link",href:"/"},"Saved","Saved"===e.currentState?r.a.createElement("span",{className:"sr-only"},"(current)"):r.a.createElement(r.a.Fragment,null))))))};var g=function(e){return r.a.createElement("div",{className:"input-group input-group-lg"},r.a.createElement("input",Object.assign({className:"form-control",type:"text"},e)))};var v=function(e){var a=e.type,t=void 0===a?"default":a,n=e.className,o=e.children,l=e.onClick;return r.a.createElement("button",{onClick:l,className:["btn btn-lg","btn-".concat(t),n].join(" ")},o)};function f(e){return r.a.createElement("div",{key:e.id,className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",null,e.title),r.a.createElement("div",null,r.a.createElement("a",{href:e.link,className:"btn btn-primary"},"View"),r.a.createElement("a",{href:"/",className:"btn btn-primary","data-id":e.id},"Saved"===e.pageState?"Delete":"Save"))),r.a.createElement("div",{key:e.id,className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{src:e.thumbnail,className:"card-img",alt:e.title})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.title+" by "+e.authors),r.a.createElement("p",{className:"card-text"},e.description),r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-muted"},"ISBN: ")))))))}t.e(3).then(t.t.bind(null,45,7)),t.e(4).then(t.t.bind(null,44,7));var p=function(e){return console.log("Results props: ",e),"Saved"===e.pageState?r.a.createElement("div",null,r.a.createElement("h3",null,"Saved Books"),e.books.length?e.books.map((function(e){return console.log("In props book loop"),r.a.createElement(f,{key:e._id,id:e._id,title:e.title,thumbnail:e.image,authors:e.authors,description:e.description,link:e.link})})):r.a.createElement("h3",{className:"text-center"},"No books available!")):r.a.createElement("div",null,r.a.createElement("h3",null,"Search Results"),e.searchedBooks.length?e.searchedBooks.map((function(a){console.log(a.volumeInfo);var t=a.volumeInfo,n=t.title,o=t.infoLink,l=t.description,c=a.volumeInfo.imageLinks.thumbnail||"";console.log(a.volumeInfo.industryIdentifiers);var s=a.volumeInfo.industryIdentifiers[0].identifer,i=a.volumeInfo.authors?a.volumeInfo.authors.join(", ").substring(0,-2):"Anonymous";return r.a.createElement(f,{key:s,title:n,infoLink:o,thumbnail:c,authors:i,description:l,identifier:s,pageState:e.pageState})})):r.a.createElement(r.a.Fragment,null))},E=t(2),k=t.n(E),b={getBooks:function(e){var a="/api/getBooks/"+e;return k.a.get(a)},returnSavedBooks:function(){return k.a.get("/api/books/savedBooks")},deleteBook:function(e){return k.a.delete("/api/books/savedBooks/"+e)}};function S(e){var a=e.fluid,t=e.children;return r.a.createElement("div",{className:"container".concat(a?"-fluid":"")},t)}function N(e){var a=e.fluid,t=e.children;return r.a.createElement("div",{className:"row".concat(a?"-fluid":"")},t)}function y(e){var a=e.size,t=e.children;return r.a.createElement("div",{className:a.split(" ").map((function(e){return"col-"+e})).join(" ")},t)}var B=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={books:[],bookSearch:"",page:"Saved",searchedBooks:[],userSearchMessage:""},t.handlePageChange=function(e){e.preventDefault();var a=e.target.innerText;console.log(e.target),console.log("setting state \ninnertext"+a),t.setState({page:a})},t.handleInputChange=function(e){var a=e.target.value;t.setState({bookSearch:a})},t.displayToUserSearchMessage=function(e){t.setState({userSearchMessage:e})},t.returnAllSavedBooks=function(){b.returnSavedBooks().then((function(e){console.log(e.data),t.setState({books:e.data})}))},t.deleteBookById=function(e){var a=e.target;console.log(a)},t.componentDidMount=function(){t.returnAllSavedBooks()},t.handleFormSubmit=function(e){console.log("Form submitted!"),console.log("State:",t.state),t.displayToUserSearchMessage("Searching..."),e.preventDefault(),b.getBooks(t.state.bookSearch).then((function(e){console.log(e),t.setState({searchedBooks:e.data,userSearchMessage:""})})).catch((function(e){console.log(e),t.setState({userSearchMessage:"Search Failed"})}))},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h,{handlePageChange:this.handlePageChange}),r.a.createElement(d,null),r.a.createElement(S,null,"Search"===this.state.page?r.a.createElement(N,null,r.a.createElement(y,{size:"md-12"},r.a.createElement("form",null,r.a.createElement(S,null,r.a.createElement(N,null,r.a.createElement(y,{size:"xs-9 sm-10"},r.a.createElement("span",null,this.state.userSearchMessage),r.a.createElement(g,{name:"bookSearch",value:this.state.bookSearch,onChange:this.handleInputChange,placeholder:"Search For a Book"})),r.a.createElement(y,{size:"xs-3 sm-2"},r.a.createElement(v,{onClick:this.handleFormSubmit,type:"success",className:"input-lg"},"Search"))))))):r.a.createElement(r.a.Fragment,null),r.a.createElement(N,null,r.a.createElement(y,{size:"12"},r.a.createElement(S,null,r.a.createElement(v,{onClick:this.returnAllSavedBooks,type:"success",className:"input-lg"},"Update"),r.a.createElement(p,{pageState:this.state.page,books:this.state.books,searchedBooks:this.state.searchedBooks}))))))}}]),a}(n.Component),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(B,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");w?function(e){fetch(e).then((function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):C(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):C(e)}))}}()}},[[18,1,2]]]);
//# sourceMappingURL=main.45d02ced.chunk.js.map