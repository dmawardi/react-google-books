(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{18:function(e,a,t){e.exports=t(43)},23:function(e,a,t){},24:function(e,a,t){},25:function(e,a,t){},43:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(12),l=t.n(r),c=(t(23),t(13)),s=t(14),i=t(16),u=t(15),m=t(17);t(24);var d=function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"jumbotron text-center"},o.a.createElement("h1",null,"(React) Google Books Search"),o.a.createElement("p",{className:"lead"},"Search for and Save Books of Interest")))};t(25);var h=function(e){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},o.a.createElement("a",{className:"navbar-brand",href:"/"},"Google Books"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"Search"===e.currentState?"nav-item active":"nav-item",onClick:e.handlePageChange},o.a.createElement("a",{className:"nav-link",href:"/"},"Search","Search"===e.currentState?o.a.createElement("span",{className:"sr-only"},"(current)"):o.a.createElement(o.a.Fragment,null))),o.a.createElement("li",{className:"Search"===e.currentState?"nav-item active":"nav-item",onClick:e.handlePageChange},o.a.createElement("a",{className:"nav-link",href:"/"},"Saved","Saved"===e.currentState?o.a.createElement("span",{className:"sr-only"},"(current)"):o.a.createElement(o.a.Fragment,null))))))};var g=function(e){return o.a.createElement("div",{className:"input-group input-group-lg"},o.a.createElement("input",Object.assign({className:"form-control",type:"text"},e)))};var v=function(e){var a=e.type,t=void 0===a?"default":a,n=e.className,r=e.children,l=e.onClick;return o.a.createElement("button",{onClick:l,className:["btn btn-lg","btn-".concat(t),n].join(" ")},r)};function p(e){return o.a.createElement("div",{key:e.id,className:"card"},o.a.createElement("div",{className:"card-header"},o.a.createElement("span",null,e.title),o.a.createElement("div",null,o.a.createElement("a",{href:e.link,className:"btn btn-primary"},"View"),"Saved"===e.pageState?o.a.createElement("a",{href:"/",className:"btn btn-primary","data-id":e.id},"Delete"):o.a.createElement("a",{href:"/",className:"btn btn-primary","data-id":e.id},"Save"))),o.a.createElement("div",{key:e.id,className:"card-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4"},o.a.createElement("img",{src:e.thumbnail,className:"card-img",alt:e.title})),o.a.createElement("div",{className:"col-md-8"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h5",{className:"card-title"},e.title+" by "+e.authors),o.a.createElement("p",{className:"card-text"},e.description),o.a.createElement("p",{className:"card-text"},o.a.createElement("small",{className:"text-muted"},"ISBN: ")))))))}t.e(3).then(t.t.bind(null,45,7)),t.e(4).then(t.t.bind(null,44,7));var f=function(e){return console.log("Results props: ",e),"Saved"===e.pageState?o.a.createElement("div",null,o.a.createElement("h3",null,"Saved Books"),e.books.length?e.books.map((function(a){return console.log("In props book loop"),o.a.createElement(p,{key:a._id,id:a._id,title:a.title,thumbnail:a.image,authors:a.authors,description:a.description,link:a.link,pageState:e.pageState})})):o.a.createElement("h3",{className:"text-center"},"No books available!")):o.a.createElement("div",null,o.a.createElement("h3",null,"Search Results"),e.searchedBooks.length?e.searchedBooks.map((function(a){console.log(a.volumeInfo);var t=a.volumeInfo,n=t.title,r=t.infoLink,l=t.description,c=a.volumeInfo.imageLinks.thumbnail||"";console.log(a.volumeInfo.industryIdentifiers);var s=a.id||"Unknown",i=a.volumeInfo.authors?a.volumeInfo.authors.join(", ").substring(0,-2):"Anonymous";return o.a.createElement(p,{key:s,title:n,thumbnail:c,authors:i,description:l,id:s,pageState:e.pageState,link:r,bookSave:e.handleBookSave()})})):o.a.createElement(o.a.Fragment,null))},k=t(2),E=t.n(k),b={getBooks:function(e){var a="/api/getBooks/"+e;return E.a.get(a)},returnSavedBooks:function(){return E.a.get("/api/books/savedBooks")},deleteBook:function(e){return E.a.delete("/api/books/savedBooks/"+e)}};function S(e){var a=e.fluid,t=e.children;return o.a.createElement("div",{className:"container".concat(a?"-fluid":"")},t)}function N(e){var a=e.fluid,t=e.children;return o.a.createElement("div",{className:"row".concat(a?"-fluid":"")},t)}function B(e){var a=e.size,t=e.children;return o.a.createElement("div",{className:a.split(" ").map((function(e){return"col-"+e})).join(" ")},t)}var y=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(o)))).state={books:[],bookSearch:"",page:"Saved",searchedBooks:[],userSearchMessage:""},t.handlePageChange=function(e){e.preventDefault();var a=e.target.innerText;console.log(e.target),console.log("setting state \ninnertext"+a),t.setState({page:a})},t.handleInputChange=function(e){var a=e.target.value;t.setState({bookSearch:a})},t.displayToUserSearchMessage=function(e){t.setState({userSearchMessage:e})},t.returnAllSavedBooks=function(){b.returnSavedBooks().then((function(e){console.log(e.data),t.setState({books:e.data})}))},t.handleDeleteBookById=function(e){var a=e.target;console.log("Attempting delete",a)},t.handleBookSaveById=function(e){var a=e.target;console.log("Attempting save",a)},t.componentDidMount=function(){t.returnAllSavedBooks()},t.handleFormSubmit=function(e){console.log("Form submitted!"),console.log("State:",t.state),t.displayToUserSearchMessage("Searching..."),e.preventDefault(),b.getBooks(t.state.bookSearch).then((function(e){console.log(e),t.setState({searchedBooks:e.data,userSearchMessage:""})})).catch((function(e){console.log(e),t.setState({userSearchMessage:"Search Failed"})}))},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(h,{handlePageChange:this.handlePageChange}),o.a.createElement(d,null),o.a.createElement(S,null,"Search"===this.state.page?o.a.createElement(N,null,o.a.createElement(B,{size:"md-12"},o.a.createElement("form",null,o.a.createElement(S,null,o.a.createElement(N,null,o.a.createElement(B,{size:"xs-9 sm-10"},o.a.createElement("span",null,this.state.userSearchMessage),o.a.createElement(g,{name:"bookSearch",value:this.state.bookSearch,onChange:this.handleInputChange,placeholder:"Search For a Book"})),o.a.createElement(B,{size:"xs-3 sm-2"},o.a.createElement(v,{onClick:this.handleFormSubmit,type:"success",className:"input-lg"},"Search"))))))):o.a.createElement(o.a.Fragment,null),o.a.createElement(N,null,o.a.createElement(B,{size:"12"},o.a.createElement(S,null,o.a.createElement(v,{onClick:this.returnAllSavedBooks,type:"success",className:"input-lg"},"Update"),o.a.createElement(f,{pageState:this.state.page,books:this.state.books,searchedBooks:this.state.searchedBooks,handleBookDelete:this.handleDeleteBookById,handleBookSave:this.handleBookSaveById}))))))}}]),a}(n.Component),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(o.a.createElement(y,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");w?function(e){fetch(e).then((function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):C(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):C(e)}))}}()}},[[18,1,2]]]);
//# sourceMappingURL=main.6efa9427.chunk.js.map